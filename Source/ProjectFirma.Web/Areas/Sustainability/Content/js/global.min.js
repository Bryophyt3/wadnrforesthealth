(function(n,t){"use strict";function i(n,t){var i=null;return function(){var r=this,u=arguments;i===null&&(i=setTimeout(function(){n.apply(r,u);i=null},t))}}var r=function(){function w(){f.css("min-height",it);a=t.innerHeight;f.css("height",a);f.css("max-height",a)}function rt(){l=!0;t.clearTimeout(p);l&&!c.hasClass("on")&&c.addClass("on");p=t.setTimeout(function(){c.removeClass("on");l=!1},55)}function b(){v=t.location.hash;v&&k(n(v).index())}function o(){e.removeClass("active")}function s(){r.removeClass("active")}function ft(n,t){s();var i=e.eq(n).find(".block-item").eq(t).addClass("active");i.off("mouseenter.activeItem");i.one("mouseenter.activeItem",function(){i.removeClass("active")});return i}function k(n){return o(),s(),e.eq(n).addClass("active")}function et(i){i.preventDefault();var u=n(this);if(r.not(u).removeClass("active"),u.hasClass("active"))u.find(".btn").off("click");else u.find(".btn").on("click",function(i){i.stopImmediatePropagation();t.location=n(this).attr("href")});u.not(".no-hover").toggleClass("active")}function ot(n,t,i){var u=n.length>t,r=u?n.substr(0,t-1):n;return i=i||!1,r=i&&u?r.substr(0,r.lastIndexOf(" ")):r,u?r+"&hellip;":r}function st(){r.not(".no-hover").each(function(){var u=n(this),t=u.find(".summary"),i=n('<span class="truncated"><\/span>'),r;r=ot(t.html(),110,!0);t.wrapInner('<span class="original"><\/span>');i.html(r);t.append(i)})}function ht(i,r){var u=i.offset().top,f=i.height(),e=t.innerHeight,o;o=f<e?u-Math.round(e/2-f/2):u;n(document.body).scrollTo(o+"px",r)}function ct(t){t.preventDefault();var i=n(this),r=i.closest(".bubble"),u=r.index();k(u)}function lt(t){var u;t.preventDefault();var i=n(this),f=i.closest(".bubble"),e=f.index(),r=i.parent().index();o();u=ft(e,r);ht(u,400+r*100)}function at(){u.on("resize.homepage",w);u.on("scroll.homepage",ut);r.not(".no-hover").addClass("hover-enabled");r.off("click.blockGrid");w();s();o()}function vt(){if(u.off("resize.homepage"),u.off("scroll.homepage"),tt){r.removeClass("hover-enabled");r.on("click.blockGrid",et)}f.css("min-height","");s();o()}function nt(){g=u.innerWidth();g<d?h!=="small"&&(h="small",vt()):h!=="large"&&(h="large",at())}var u=jQuery(t),c=jQuery(document.body).append('<div class="scroll-cover"><\/div>').find(".scroll-cover"),p,l,a=0,f=jQuery(".sustainability-home"),tt=jQuery("html").hasClass("touch"),it=830,ut=i(rt,25),e=n(".block-col"),r=e.find(".block-item"),v,y,d,g,h;b();y=n(".menu");y.find(".parent").on("click",ct);y.find(".subpages").on("click","a",lt);u.on("hashchange",b);n(t).on("load",function(){n.localScroll({duration:400,hash:!0})});d=882;nt();n(t).on("resize",nt);st()};n(function(){var t=n("table"),i;t.length>0&&t.wrap('<div class="table-wrapper"><\/div>');i=n(".body");i.length>0&&n("img").parent("a").addClass("has-image")});t.loadSustainabilityDashboard=r})(jQuery,window);
//# sourceMappingURL=global.min.js.map
