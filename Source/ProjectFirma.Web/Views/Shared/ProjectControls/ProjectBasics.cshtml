@using LtInfo.Common.HtmlHelperExtensions
@using LtInfo.Common.Views
@using ProjectFirma.Web.Common
@using ProjectFirma.Web.Models
@using ProjectFirma.Web.Views.Shared.ProjectControls
@inherits ProjectBasics

<script src="@Url.Content("~/Content/bootstrap-tags/bootstrap-tags.min.js")" type="text/javascript"></script>

<div class="contentWrapper">
    @if (ViewDataTyped.ShowFactSheetIcon)
    {
        <a href="@ViewDataTyped.Project.GetFactSheetUrl()" title="View Project Fact Sheet">
            <img src="/Content/img/fact_sheet_teaser.gif" style="height: 85px; width: 85px; background-color: lightgray; border: 1px solid #ababab; border-radius: 3px; box-shadow: 2px 2px 4px #000" alt="View Project Fact Sheet" />
        </a>
    }


    <table class="summaryLayout" style="width: 100%">
        <colgroup>
            <col style="width: 200px"/>
            <col style="width: 100px"/>
            <col style="width: 150px"/>
            <col style="width: auto"/>
            <col style="width: 100px"/>
        </colgroup>
        <tr>
            <th colspan="4">Project Category:</th>
        </tr>

        <tr>
            <td colspan="5">
                <span class="stylizeLikeTH">@Html.LabelWithFieldDefinitionFor(FieldDefinition.TaxonomyTierThree, LabelForExtensions.DisplayStyle.HelpIconWithLabel, MultiTenantHelpers.GetTaxonomyTierThreeDisplayName())</span> <span style="margin-left: 5px;">@ViewDataTyped.Project.TaxonomyTierOne.TaxonomyTierTwo.TaxonomyTierThree.DisplayNameAsUrl</span>
            </td>
        </tr>
        <tr>
            <td colspan="4">
                <div style="margin-left: 15px">
                    <span class="stylizeLikeTH">@Html.LabelWithFieldDefinitionFor(FieldDefinition.TaxonomyTierTwo, LabelForExtensions.DisplayStyle.HelpIconWithLabel, MultiTenantHelpers.GetTaxonomyTierTwoDisplayName())</span> <span style="margin-left: 25px;">@ViewDataTyped.Project.TaxonomyTierOne.TaxonomyTierTwo.DisplayNameAsUrl</span>
                </div>
            </td>
        </tr>
        <tr>
            <td colspan="4">
                <div style="margin-left: 30px">
                    <span class="stylizeLikeTH">@Html.LabelWithFieldDefinitionFor(FieldDefinition.TaxonomyTierOne, LabelForExtensions.DisplayStyle.HelpIconWithLabel, MultiTenantHelpers.GetTaxonomyTierOneDisplayName())</span> <span style="margin-left: 5px">@ViewDataTyped.Project.TaxonomyTierOne.GetDisplayNameAsUrl()</span>
                </div>
            </td>
        </tr>        <tr>
            <td colspan="5">
                <div style="margin-left: 45px">
                    <span class="stylizeLikeTH">@Html.LabelWithFieldDefinitionFor(FieldDefinition.Project)</span> <span style="margin-left: 45px">@ViewDataTyped.Project.DisplayName</span>
                </div>
            </td>
        </tr>
        <tr>
            <th>@Html.LabelWithFieldDefinitionWiderFor(FieldDefinition.ProjectStage)</th>
            <td colspan="2">
                @ViewDataTyped.Project.ProjectStage.ProjectStageDisplayName
            </td>
        </tr>
        <tr>
            <th style="white-space: nowrap">@Html.LabelWithFieldDefinitionFor(FieldDefinition.ProjectDescription)</th>
            <td colspan="4">
                @Html.Raw(ViewDataTyped.Project.ProjectDescription.HtmlEncodeWithBreaks())
            </td>
        </tr>
        @{ ProjectBasicsCalculatedCosts.RenderPartialView(Html, ViewDataTyped.ProjectBasicsCalculatedCostsViewData); }

        <tr>
            <th>@Html.LabelWithFieldDefinitionFor(FieldDefinition.PlanningDesignStartYear) </th>
            <td colspan="3">
                @ViewDataTyped.Project.PlanningDesignStartYear
            </td>
            <td rowspan="5" colspan="2">

            </td>
        </tr>
        <tr>
            <th>@Html.LabelWithFieldDefinitionFor(FieldDefinition.ImplementationStartYear)</th>
            <td>
                @ViewDataTyped.Project.ImplementationStartYear
            </td>
            <th>@Html.LabelWithFieldDefinitionFor(FieldDefinition.CompletionYear):</th>
            <td>
                @ViewDataTyped.Project.CompletionYear
            </td>
        </tr>
        <tr>
            <th>@Html.LabelWithFieldDefinitionFor(FieldDefinition.PrimaryContact)</th>

            <td colspan="4">
                @if (ViewDataTyped.Project.PrimaryContactPerson != null)
                {
                    <span>
                        @ViewDataTyped.Project.PrimaryContactPerson.FullNameFirstLast (<a href="mailto:@ViewDataTyped.Project.PrimaryContactPerson.Email">@ViewDataTyped.Project.PrimaryContactPerson.Email</a>)
                    </span>
                }
                else
                {
                    <span>@ViewUtilities.NoneString</span>
                }
            </td>
        </tr>
        <tr>
            <th>Attributes</th>
            <td colspan="4">
                <ul>
                    <li>This project is @(!ViewDataTyped.Project.IsOnActiveProjectsList ? "NOT" : string.Empty) on the Active List</li>
                    @if (ViewDataTyped.Project.IsFeatured)
                    {
                        <li>This project is a featured project</li>
                    }
                    @if (ViewDataTyped.Project.FundingType == FundingType.OperationsAndMaintenance)
                    {
                        <li>This project is an Operations and Maintenance project with recurring annual costs.</li>
                    }
                </ul>
            </td>
        </tr>
    </table>
</div>